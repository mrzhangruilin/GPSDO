/*
WARNING: Do NOT edit the input and output ports in this file in a text
editor if you plan to continue editing the block that represents it in
the Block Editor! File corruption is VERY likely to occur.
*/
/*
Copyright (C) 1991-2013 Altera Corporation
Your use of Altera Corporation's design tools, logic functions 
and other software and tools, and its AMPP partner logic 
functions, and any output files from any of the foregoing 
(including device programming or simulation files), and any 
associated documentation or information are expressly subject 
to the terms and conditions of the Altera Program License 
Subscription Agreement, Altera MegaCore Function License 
Agreement, or other applicable license agreement, including, 
without limitation, that your use is for the sole purpose of 
programming logic devices manufactured by Altera and sold by 
Altera or its authorized distributors.  Please refer to the 
applicable agreement for further details.
*/
(header "graphic" (version "1.4"))
(pin
	(input)
	(rect -112 152 64 168)
	(text "INPUT" (rect 133 0 161 10)(font "Arial" (font_size 6)))
	(text "CLK_SYS" (rect 9 0 58 12)(font "Arial" ))
	(pt 176 8)
	(drawing
		(line (pt 92 12)(pt 117 12))
		(line (pt 92 4)(pt 117 4))
		(line (pt 121 8)(pt 176 8))
		(line (pt 92 12)(pt 92 4))
		(line (pt 117 4)(pt 121 8))
		(line (pt 117 12)(pt 121 8))
	)
	(text "VCC" (rect 136 7 156 17)(font "Arial" (font_size 6)))
)
(pin
	(input)
	(rect -112 168 64 184)
	(text "INPUT" (rect 133 0 161 10)(font "Arial" (font_size 6)))
	(text "CLK_RST" (rect 9 0 57 12)(font "Arial" ))
	(pt 176 8)
	(drawing
		(line (pt 92 12)(pt 117 12))
		(line (pt 92 4)(pt 117 4))
		(line (pt 121 8)(pt 176 8))
		(line (pt 92 12)(pt 92 4))
		(line (pt 117 4)(pt 121 8))
		(line (pt 117 12)(pt 121 8))
	)
	(text "VCC" (rect 136 7 156 17)(font "Arial" (font_size 6)))
)
(pin
	(input)
	(rect -112 184 64 200)
	(text "INPUT" (rect 133 0 161 10)(font "Arial" (font_size 6)))
	(text "GPS_IN" (rect 9 0 49 12)(font "Arial" ))
	(pt 176 8)
	(drawing
		(line (pt 92 12)(pt 117 12))
		(line (pt 92 4)(pt 117 4))
		(line (pt 121 8)(pt 176 8))
		(line (pt 92 12)(pt 92 4))
		(line (pt 117 4)(pt 121 8))
		(line (pt 117 12)(pt 121 8))
	)
	(text "VCC" (rect 136 7 156 17)(font "Arial" (font_size 6)))
)
(pin
	(output)
	(rect 688 352 864 368)
	(text "OUTPUT" (rect 1 0 39 10)(font "Arial" (font_size 6)))
	(text "_1PPS_Local" (rect 90 0 154 12)(font "Arial" ))
	(pt 0 8)
	(drawing
		(line (pt 0 8)(pt 52 8))
		(line (pt 52 4)(pt 78 4))
		(line (pt 52 12)(pt 78 12))
		(line (pt 52 12)(pt 52 4))
		(line (pt 78 4)(pt 82 8))
		(line (pt 82 8)(pt 78 12))
		(line (pt 78 12)(pt 82 8))
	)
)
(pin
	(output)
	(rect 1704 192 1880 208)
	(text "OUTPUT" (rect 1 0 39 10)(font "Arial" (font_size 6)))
	(text "PWM_Out" (rect 90 0 139 12)(font "Arial" ))
	(pt 0 8)
	(drawing
		(line (pt 0 8)(pt 52 8))
		(line (pt 52 4)(pt 78 4))
		(line (pt 52 12)(pt 78 12))
		(line (pt 52 12)(pt 52 4))
		(line (pt 78 4)(pt 82 8))
		(line (pt 82 8)(pt 78 12))
		(line (pt 78 12)(pt 82 8))
	)
)
(pin
	(output)
	(rect 1712 288 1888 304)
	(text "OUTPUT" (rect 1 0 39 10)(font "Arial" (font_size 6)))
	(text "Led_Lock" (rect 90 0 137 12)(font "Arial" ))
	(pt 0 8)
	(drawing
		(line (pt 0 8)(pt 52 8))
		(line (pt 52 4)(pt 78 4))
		(line (pt 52 12)(pt 78 12))
		(line (pt 52 12)(pt 52 4))
		(line (pt 78 4)(pt 82 8))
		(line (pt 82 8)(pt 78 12))
		(line (pt 78 12)(pt 82 8))
	)
)
(pin
	(output)
	(rect 416 480 592 496)
	(text "OUTPUT" (rect 1 0 39 10)(font "Arial" (font_size 6)))
	(text "_40K" (rect 90 0 114 12)(font "Arial" ))
	(pt 0 8)
	(drawing
		(line (pt 0 8)(pt 52 8))
		(line (pt 52 4)(pt 78 4))
		(line (pt 52 12)(pt 78 12))
		(line (pt 52 12)(pt 52 4))
		(line (pt 78 4)(pt 82 8))
		(line (pt 82 8)(pt 78 12))
		(line (pt 78 12)(pt 82 8))
	)
)
(pin
	(output)
	(rect 1720 456 1896 472)
	(text "OUTPUT" (rect 1 0 39 10)(font "Arial" (font_size 6)))
	(text "Uart_Tx" (rect 90 0 128 12)(font "Arial" ))
	(pt 0 8)
	(drawing
		(line (pt 0 8)(pt 52 8))
		(line (pt 52 4)(pt 78 4))
		(line (pt 52 12)(pt 78 12))
		(line (pt 52 12)(pt 52 4))
		(line (pt 78 4)(pt 82 8))
		(line (pt 82 8)(pt 78 12))
		(line (pt 78 12)(pt 82 8))
	)
)
(symbol
	(rect 1456 168 1680 280)
	(text "PWM" (rect 5 0 30 12)(font "Arial" ))
	(text "inst10" (rect 8 96 37 108)(font "Arial" ))
	(port
		(pt 0 32)
		(input)
		(text "CLK_SYS" (rect 0 0 49 12)(font "Arial" ))
		(text "CLK_SYS" (rect 21 27 70 39)(font "Arial" ))
		(line (pt 0 32)(pt 16 32))
	)
	(port
		(pt 0 48)
		(input)
		(text "CLK_RST" (rect 0 0 48 12)(font "Arial" ))
		(text "CLK_RST" (rect 21 43 69 55)(font "Arial" ))
		(line (pt 0 48)(pt 16 48))
	)
	(port
		(pt 0 64)
		(input)
		(text "PWM_Duty[16..0]" (rect 0 0 88 12)(font "Arial" ))
		(text "PWM_Duty[16..0]" (rect 21 59 109 71)(font "Arial" ))
		(line (pt 0 64)(pt 16 64)(line_width 3))
	)
	(port
		(pt 224 32)
		(output)
		(text "PWM_Out" (rect 0 0 49 12)(font "Arial" ))
		(text "PWM_Out" (rect 162 27 203 39)(font "Arial" ))
		(line (pt 224 32)(pt 208 32))
	)
	(parameter
		"pulse"
		"65535"
		""
		(type "PARAMETER_SIGNED_DEC")	)
	(drawing
		(rectangle (rect 16 16 208 96))
	)
	(annotation_block (parameter)(rect 1456 136 1640 168))
)
(symbol
	(rect 136 232 320 312)
	(text "Filter" (rect 5 0 29 12)(font "Arial" ))
	(text "inst1" (rect 8 64 31 76)(font "Arial" ))
	(port
		(pt 0 32)
		(input)
		(text "GPS_IN" (rect 0 0 40 12)(font "Arial" ))
		(text "GPS_IN" (rect 21 27 61 39)(font "Arial" ))
		(line (pt 0 32)(pt 16 32))
	)
	(port
		(pt 184 32)
		(output)
		(text "_1PPS_GPS" (rect 0 0 61 12)(font "Arial" ))
		(text "_1PPS_GPS" (rect 112 27 163 39)(font "Arial" ))
		(line (pt 184 32)(pt 168 32))
	)
	(drawing
		(rectangle (rect 16 16 168 64))
	)
)
(symbol
	(rect 384 200 616 312)
	(text "CLK_DIV" (rect 5 0 52 12)(font "Arial" ))
	(text "inst" (rect 8 96 25 108)(font "Arial" ))
	(port
		(pt 0 32)
		(input)
		(text "CLK_SYS" (rect 0 0 49 12)(font "Arial" ))
		(text "CLK_SYS" (rect 21 27 70 39)(font "Arial" ))
		(line (pt 0 32)(pt 16 32))
	)
	(port
		(pt 0 48)
		(input)
		(text "CLK_RST" (rect 0 0 48 12)(font "Arial" ))
		(text "CLK_RST" (rect 21 43 69 55)(font "Arial" ))
		(line (pt 0 48)(pt 16 48))
	)
	(port
		(pt 0 64)
		(input)
		(text "_1PPS_GPS" (rect 0 0 61 12)(font "Arial" ))
		(text "_1PPS_GPS" (rect 21 59 82 71)(font "Arial" ))
		(line (pt 0 64)(pt 16 64))
	)
	(port
		(pt 0 80)
		(input)
		(text "DIV_RST" (rect 0 0 46 12)(font "Arial" ))
		(text "DIV_RST" (rect 21 75 67 87)(font "Arial" ))
		(line (pt 0 80)(pt 16 80))
	)
	(port
		(pt 232 32)
		(output)
		(text "_1PPS_Local" (rect 0 0 64 12)(font "Arial" ))
		(text "_1PPS_Local" (rect 157 27 211 39)(font "Arial" ))
		(line (pt 232 32)(pt 216 32))
	)
	(port
		(pt 232 48)
		(output)
		(text "Flag_GPS_posedge" (rect 0 0 96 12)(font "Arial" ))
		(text "Flag_GPS_posedge" (rect 130 43 211 55)(font "Arial" ))
		(line (pt 232 48)(pt 216 48))
	)
	(port
		(pt 232 64)
		(output)
		(text "Flag_Local_negedge" (rect 0 0 100 12)(font "Arial" ))
		(text "Flag_Local_negedge" (rect 127 59 211 71)(font "Arial" ))
		(line (pt 232 64)(pt 216 64))
	)
	(parameter
		"period"
		"10000000"
		""
		(type "PARAMETER_SIGNED_DEC")	)
	(parameter
		"pulse"
		"1000000"
		""
		(type "PARAMETER_SIGNED_DEC")	)
	(drawing
		(rectangle (rect 16 16 216 96))
	)
	(annotation_block (parameter)(rect 384 312 584 360))
)
(symbol
	(rect 696 200 968 312)
	(text "Measure" (rect 5 0 46 12)(font "Arial" ))
	(text "inst4" (rect 8 96 31 108)(font "Arial" ))
	(port
		(pt 0 32)
		(input)
		(text "CLK_SYS" (rect 0 0 49 12)(font "Arial" ))
		(text "CLK_SYS" (rect 21 27 70 39)(font "Arial" ))
		(line (pt 0 32)(pt 16 32))
	)
	(port
		(pt 0 48)
		(input)
		(text "CLK_RST" (rect 0 0 48 12)(font "Arial" ))
		(text "CLK_RST" (rect 21 43 69 55)(font "Arial" ))
		(line (pt 0 48)(pt 16 48))
	)
	(port
		(pt 0 64)
		(input)
		(text "Flag_GPS_posedge" (rect 0 0 96 12)(font "Arial" ))
		(text "Flag_GPS_posedge" (rect 21 59 117 71)(font "Arial" ))
		(line (pt 0 64)(pt 16 64))
	)
	(port
		(pt 0 80)
		(input)
		(text "Flag_Local_negedge" (rect 0 0 100 12)(font "Arial" ))
		(text "Flag_Local_negedge" (rect 21 75 121 87)(font "Arial" ))
		(line (pt 0 80)(pt 16 80))
	)
	(port
		(pt 272 32)
		(output)
		(text "Measure_Phase[23..0]" (rect 0 0 109 12)(font "Arial" ))
		(text "Measure_Phase[23..0]" (rect 159 27 268 39)(font "Arial" ))
		(line (pt 272 32)(pt 256 32)(line_width 3))
	)
	(port
		(pt 272 48)
		(output)
		(text "Measure_Done" (rect 0 0 73 12)(font "Arial" ))
		(text "Measure_Done" (rect 190 43 263 55)(font "Arial" ))
		(line (pt 272 48)(pt 256 48))
	)
	(drawing
		(rectangle (rect 16 16 256 96))
	)
)
(symbol
	(rect 1080 184 1344 328)
	(text "PID" (rect 5 0 23 12)(font "Arial" ))
	(text "inst5" (rect 8 128 31 140)(font "Arial" ))
	(port
		(pt 0 32)
		(input)
		(text "CLK_SYS" (rect 0 0 49 12)(font "Arial" ))
		(text "CLK_SYS" (rect 21 27 70 39)(font "Arial" ))
		(line (pt 0 32)(pt 16 32))
	)
	(port
		(pt 0 48)
		(input)
		(text "CLK_RST" (rect 0 0 48 12)(font "Arial" ))
		(text "CLK_RST" (rect 21 43 69 55)(font "Arial" ))
		(line (pt 0 48)(pt 16 48))
	)
	(port
		(pt 0 64)
		(input)
		(text "Measure_Phase[23..0]" (rect 0 0 109 12)(font "Arial" ))
		(text "Measure_Phase[23..0]" (rect 21 59 130 71)(font "Arial" ))
		(line (pt 0 64)(pt 16 64)(line_width 3))
	)
	(port
		(pt 0 80)
		(input)
		(text "Measure_Done" (rect 0 0 73 12)(font "Arial" ))
		(text "Measure_Done" (rect 21 75 94 87)(font "Arial" ))
		(line (pt 0 80)(pt 16 80))
	)
	(port
		(pt 264 32)
		(output)
		(text "Led_Lock" (rect 0 0 47 12)(font "Arial" ))
		(text "Led_Lock" (rect 204 27 251 39)(font "Arial" ))
		(line (pt 264 32)(pt 248 32))
	)
	(port
		(pt 264 48)
		(output)
		(text "PWM_Duty[16..0]" (rect 0 0 88 12)(font "Arial" ))
		(text "PWM_Duty[16..0]" (rect 169 43 257 55)(font "Arial" ))
		(line (pt 264 48)(pt 248 48)(line_width 3))
	)
	(port
		(pt 264 64)
		(output)
		(text "Data[7..0]" (rect 0 0 49 12)(font "Arial" ))
		(text "Data[7..0]" (rect 202 59 251 71)(font "Arial" ))
		(line (pt 264 64)(pt 248 64)(line_width 3))
	)
	(port
		(pt 264 80)
		(output)
		(text "Uart_En" (rect 0 0 40 12)(font "Arial" ))
		(text "Uart_En" (rect 210 75 250 87)(font "Arial" ))
		(line (pt 264 80)(pt 248 80))
	)
	(port
		(pt 264 96)
		(output)
		(text "DIV_RST" (rect 0 0 46 12)(font "Arial" ))
		(text "DIV_RST" (rect 205 91 251 103)(font "Arial" ))
		(line (pt 264 96)(pt 248 96))
	)
	(parameter
		"kp"
		"500"
		""
		(type "PARAMETER_SIGNED_DEC")	)
	(parameter
		"ki"
		"10"
		""
		(type "PARAMETER_SIGNED_DEC")	)
	(parameter
		"kd"
		"0"
		""
		(type "PARAMETER_SIGNED_DEC")	)
	(parameter
		"PWM_Duty_Half"
		"32768"
		""
		(type "PARAMETER_SIGNED_DEC")	)
	(drawing
		(rectangle (rect 16 16 248 128))
	)
	(annotation_block (parameter)(rect 1080 328 1288 400))
)
(symbol
	(rect 1464 416 1680 528)
	(text "UART_SEND" (rect 5 0 71 12)(font "Arial" ))
	(text "inst6" (rect 8 96 31 108)(font "Arial" ))
	(port
		(pt 0 32)
		(input)
		(text "CLK_SYS" (rect 0 0 49 12)(font "Arial" ))
		(text "CLK_SYS" (rect 21 27 70 39)(font "Arial" ))
		(line (pt 0 32)(pt 16 32))
	)
	(port
		(pt 0 48)
		(input)
		(text "CLK_RST" (rect 0 0 48 12)(font "Arial" ))
		(text "CLK_RST" (rect 21 43 69 55)(font "Arial" ))
		(line (pt 0 48)(pt 16 48))
	)
	(port
		(pt 0 64)
		(input)
		(text "Uart_TX_EN" (rect 0 0 60 12)(font "Arial" ))
		(text "Uart_TX_EN" (rect 21 59 81 71)(font "Arial" ))
		(line (pt 0 64)(pt 16 64))
	)
	(port
		(pt 0 80)
		(input)
		(text "Uart_din[7..0]" (rect 0 0 67 12)(font "Arial" ))
		(text "Uart_din[7..0]" (rect 21 75 88 87)(font "Arial" ))
		(line (pt 0 80)(pt 16 80)(line_width 3))
	)
	(port
		(pt 216 32)
		(output)
		(text "Uart_TX_busy" (rect 0 0 69 12)(font "Arial" ))
		(text "Uart_TX_busy" (rect 137 27 206 39)(font "Arial" ))
		(line (pt 216 32)(pt 200 32))
	)
	(port
		(pt 216 48)
		(output)
		(text "Uart_TXD" (rect 0 0 47 12)(font "Arial" ))
		(text "Uart_TXD" (rect 156 43 203 55)(font "Arial" ))
		(line (pt 216 48)(pt 200 48))
	)
	(parameter
		"CLK_FREQ"
		"10000000"
		""
		(type "PARAMETER_SIGNED_DEC")	)
	(parameter
		"UART_BPS"
		"9600"
		""
		(type "PARAMETER_SIGNED_DEC")	)
	(drawing
		(rectangle (rect 16 16 200 96))
	)
	(annotation_block (parameter)(rect 1464 528 1664 576))
)
(connector
	(pt 376 160)
	(pt 376 232)
)
(connector
	(pt 376 232)
	(pt 384 232)
)
(connector
	(pt 64 160)
	(pt 376 160)
)
(connector
	(pt 64 192)
	(pt 112 192)
)
(connector
	(pt 360 176)
	(pt 360 248)
)
(connector
	(pt 384 248)
	(pt 360 248)
)
(connector
	(pt 112 264)
	(pt 136 264)
)
(connector
	(pt 112 192)
	(pt 112 264)
)
(connector
	(pt 688 160)
	(pt 688 232)
)
(connector
	(pt 696 232)
	(pt 688 232)
)
(connector
	(pt 376 160)
	(pt 688 160)
)
(connector
	(pt 672 176)
	(pt 672 248)
)
(connector
	(pt 696 248)
	(pt 672 248)
)
(connector
	(pt 64 176)
	(pt 360 176)
)
(connector
	(pt 616 248)
	(pt 656 248)
)
(connector
	(pt 656 248)
	(pt 656 264)
)
(connector
	(pt 696 264)
	(pt 656 264)
)
(connector
	(pt 616 264)
	(pt 640 264)
)
(connector
	(pt 640 264)
	(pt 640 280)
)
(connector
	(pt 616 232)
	(pt 624 232)
)
(connector
	(pt 688 360)
	(pt 624 360)
)
(connector
	(pt 624 232)
	(pt 624 360)
)
(connector
	(pt 360 176)
	(pt 672 176)
)
(connector
	(pt 1064 216)
	(pt 1080 216)
)
(connector
	(pt 1064 160)
	(pt 1064 216)
)
(connector
	(pt 1048 232)
	(pt 1080 232)
)
(connector
	(pt 1048 176)
	(pt 1048 232)
)
(connector
	(pt 688 160)
	(pt 1064 160)
)
(connector
	(pt 1064 160)
	(pt 1448 160)
)
(connector
	(pt 1448 200)
	(pt 1456 200)
)
(connector
	(pt 1344 232)
	(pt 1456 232)
	(bus)
)
(connector
	(pt 1456 216)
	(pt 1432 216)
)
(connector
	(pt 672 176)
	(pt 1048 176)
)
(connector
	(pt 1048 176)
	(pt 1432 176)
)
(connector
	(pt 1680 200)
	(pt 1704 200)
)
(connector
	(pt 1680 464)
	(pt 1720 464)
)
(connector
	(pt 1464 448)
	(pt 1448 448)
)
(connector
	(pt 1448 160)
	(pt 1448 200)
)
(connector
	(pt 1448 200)
	(pt 1448 448)
)
(connector
	(pt 1464 464)
	(pt 1432 464)
)
(connector
	(pt 1432 176)
	(pt 1432 216)
)
(connector
	(pt 1432 216)
	(pt 1432 464)
)
(connector
	(pt 1344 216)
	(pt 1416 216)
)
(connector
	(pt 1712 296)
	(pt 1416 296)
)
(connector
	(pt 1416 216)
	(pt 1416 296)
)
(connector
	(pt 1464 480)
	(pt 1408 480)
)
(connector
	(pt 1344 264)
	(pt 1408 264)
)
(connector
	(pt 1408 264)
	(pt 1408 480)
)
(connector
	(pt 1464 496)
	(pt 1384 496)
	(bus)
)
(connector
	(pt 1384 496)
	(pt 1384 248)
	(bus)
)
(connector
	(pt 1344 248)
	(pt 1384 248)
	(bus)
)
(connector
	(pt 968 248)
	(pt 984 248)
)
(connector
	(pt 984 248)
	(pt 984 264)
)
(connector
	(pt 1080 248)
	(pt 1000 248)
	(bus)
)
(connector
	(pt 968 232)
	(pt 1000 232)
	(bus)
)
(connector
	(pt 1000 232)
	(pt 1000 248)
	(bus)
)
(connector
	(pt 1344 416)
	(pt 1344 280)
)
(connector
	(pt 368 416)
	(pt 1344 416)
)
(connector
	(pt 368 416)
	(pt 368 280)
)
(connector
	(pt 384 280)
	(pt 368 280)
)
(connector
	(pt 640 280)
	(pt 696 280)
)
(connector
	(pt 984 264)
	(pt 1080 264)
)
(connector
	(pt 344 488)
	(pt 416 488)
)
(connector
	(pt 344 488)
	(pt 344 264)
)
(connector
	(pt 320 264)
	(pt 344 264)
)
(connector
	(pt 344 264)
	(pt 384 264)
)
(junction (pt 376 160))
(junction (pt 1064 160))
(junction (pt 360 176))
(junction (pt 688 160))
(junction (pt 672 176))
(junction (pt 1048 176))
(junction (pt 1448 200))
(junction (pt 1432 216))
(junction (pt 344 264))
